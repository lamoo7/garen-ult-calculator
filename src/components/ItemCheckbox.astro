---
import { Image } from "astro:assets";

export interface Props {
	id: string;
	image: ImageMetadata;
	alt: string;
	bonus?: number;
	class?: string;
}

const { id, image, alt, bonus, class: className } = Astro.props;
const classes = bonus ? `bonus ${className || ''}` : className || 'collector';
---

<input 
	type="checkbox" 
	{id} 
	class={classes}
	data-bonus={bonus?.toString() || '0'}
/>
<label for={id} class="increases">
	<Image src={image} {alt} width={65} height={65} />
</label>

<style>
	input[type="checkbox"] {
		display: none;
	}

	.increases {
		margin-inline: var(--space-xs);
		filter: grayscale(1);
		transition: filter var(--transition), opacity var(--transition);
		cursor: pointer;
		opacity: 0.75;
	}

	.increases :global(img) {
		width: clamp(45px, 8vw, 65px);
		aspect-ratio: 1;
		border: 4px solid var(--color-primary);
		border-radius: 50%;
		margin-top: var(--space-md);
		transition: border-width var(--transition), border-color 0.2s ease;
	}

	input[type="checkbox"]:checked + .increases {
		filter: grayscale(0);
		opacity: 1;
	}

	@media screen and (min-width: 1000px) {
		.increases :global(img) {
			width: 65px;
		}
	}

	@media screen and (max-width: 480px) {
		.increases :global(img) {
			width: 45px;
			border-width: 2px;
		}
	}
</style>
